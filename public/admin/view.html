<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/global.css" />
    <link rel="stylesheet" href="/admin.css" />
    <title>view users</title>
    <script defer>
      fetch("http://localhost:3000/api/users")
        .then((response) => response.json())
        .then((data) => {
          const usersDiv = document.getElementById("users");
          const headerDiv = document.createElement("div");
          headerDiv.className = "user header";
          headerDiv.innerHTML = `<div>First Name</div><div>Last Name</div><div>Email</div><div>Admin?</div>`;
          usersDiv.appendChild(headerDiv);
          data.forEach((user) => {
            const userDiv = document.createElement("div");
            userDiv.className = "user";
            userDiv.innerHTML = `<div>${user.firstname}</div><div>${user.lastname}</div><div>${user.mail}</div><div>${user.isAdmin}</div>`;
            usersDiv.appendChild(userDiv);
          });
        })
        .catch((error) => {
          console.error("Error:", error);
        });
    </script>
  </head>
  <body>
    <div id="users"></div>
  </body>
</html>
